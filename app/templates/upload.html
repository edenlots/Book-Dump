<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Upload Book - Book Dumps</title>
    <link rel="stylesheet" href="../static/styles.css">
</head>
<body>
        <!-- Flash Message Display -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div id="flash-container">
      {% for category, message in messages %}
        <div class="flash-message {{ category }}">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

    <!-- Header -->
    <header>
        <h1>Upload a Book</h1>
        <nav>
            <ul>
                <li><a href="{{ url_for('main.dashboard') }}">‚Üê Back to Dashboard</a></li>
                <li><a href="bookshelf.html">My Bookshelf</a></li>
                <li><a href="{{ url_for('main.books') }}">All Books List</a></li>
                <li><a href="{{ url_for('main.search') }}">Search Book</a></li>
                <li><a href="{{ url_for('main.profile') }}">User Profile</a></li>
                <li><a href="{{ url_for('main.index') }}">Logout</a></li>
            </ul>
        </nav>
    </header>

    <!-- Upload Book Form -->
    <section id="upload-book">
        <h2>Book Information</h2>
         <form action="{{ url_for('main.upload') }}" method="POST" enctype="multipart/form-data">
            <label>Title:</label><br>
            <input type="text" name="title" required><br><br>

            <label>Author:</label><br>
            <input type="text" name="author" required><br><br>

            <label for="year">Year Published:</label><br>
            <input type="number" name="year" min="0" required><br><br>

            <label for="genre">Genre:</label><br>
            <input type="text" name="genre" required><br><br>

            <label for="language">Language:</label><br>
            <input type="text" name="language" required><br><br>

            <label for="overview">Overview:</label><br>
            <textarea name="overview" rows="5" cols="40" placeholder="Write a short overview of the book..." required></textarea><br><br>

            <label>PDF File:</label><br>
            <input type="file" name="file" accept=".pdf" required><br><br>

            <button type="submit">Upload</button>
        </form>

    </section>
    <script>
  // Automatically remove flash messages after fadeout
  document.addEventListener("DOMContentLoaded", () => {
    const flashes = document.querySelectorAll(".flash-message");
    setTimeout(() => {
      flashes.forEach(msg => msg.remove());
    }, 6000); // 6 seconds total (3s visible + 3s fade)
  });
</script>

</body>
</html>
